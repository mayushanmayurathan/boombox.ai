{"ast":null,"code":"var _jsxFileName = \"/Users/kalebtessema/Coding/boombox.ai-2.0/frontend/src/components/FacialRec/FacialRec.jsx\",\n  _s = $RefreshSig$();\nimport Webcam from \"react-webcam\";\nimport { useState, useRef, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction WebcamImage() {\n  _s();\n  const webcamRef = useRef(null);\n  const [img, setImg] = useState(null);\n  const capture = useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    setImg(imageSrc);\n  }, [webcamRef, setImg]);\n  const downloadImage = () => {\n    if (img) {\n      // Convert base64 to Blob\n      const byteCharacters = atob(img.split(',')[1]);\n      const byteNumbers = new Array(byteCharacters.length);\n      for (let i = 0; i < byteCharacters.length; i++) {\n        byteNumbers[i] = byteCharacters.charCodeAt(i);\n      }\n      const byteArray = new Uint8Array(byteNumbers);\n      const blob = new Blob([byteArray], {\n        type: 'image/png'\n      });\n\n      // Create a downloadable link\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = 'captured_image.png';\n\n      // Trigger the download\n      document.body.appendChild(link);\n      link.click();\n\n      // Clean up\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    }\n  };\n  const videoConstraints = {\n    width: 390,\n    height: 390,\n    facingMode: \"user\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Container\",\n    children: img === null ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Webcam, {\n        screenshotFormat: \"image/png\",\n        videoConstraints: videoConstraints,\n        audio: false,\n        height: 500,\n        width: 500,\n        ref: webcamRef,\n        mirrored: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: capture,\n        children: \"Capture photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: img,\n        alt: \"screenshot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setImg(null),\n        children: \"Recapture photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: downloadImage,\n        children: \"Download\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(WebcamImage, \"1oVMNnxvflJ8Lsn/xMNMxemtO9k=\");\n_c = WebcamImage;\nexport default WebcamImage;\nvar _c;\n$RefreshReg$(_c, \"WebcamImage\");","map":{"version":3,"names":["Webcam","useState","useRef","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","WebcamImage","_s","webcamRef","img","setImg","capture","imageSrc","current","getScreenshot","downloadImage","byteCharacters","atob","split","byteNumbers","Array","length","i","charCodeAt","byteArray","Uint8Array","blob","Blob","type","url","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","videoConstraints","width","height","facingMode","className","children","screenshotFormat","audio","ref","mirrored","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","_c","$RefreshReg$"],"sources":["/Users/kalebtessema/Coding/boombox.ai-2.0/frontend/src/components/FacialRec/FacialRec.jsx"],"sourcesContent":["import Webcam from \"react-webcam\";\nimport { useState, useRef, useCallback } from \"react\";\n\n\n\nfunction WebcamImage() {\n  const webcamRef = useRef(null);\n  const [img, setImg] = useState(null);\n\n  const capture = useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    setImg(imageSrc);\n  }, [webcamRef, setImg,]);\n\n  const downloadImage = () => {\n    if (img) {\n      // Convert base64 to Blob\n      const byteCharacters = atob(img.split(',')[1]);\n      const byteNumbers = new Array(byteCharacters.length);\n  \n      for (let i = 0; i < byteCharacters.length; i++) {\n        byteNumbers[i] = byteCharacters.charCodeAt(i);\n      }\n  \n      const byteArray = new Uint8Array(byteNumbers);\n      const blob = new Blob([byteArray], { type: 'image/png' });\n  \n      // Create a downloadable link\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = 'captured_image.png';\n  \n      // Trigger the download\n      document.body.appendChild(link);\n      link.click();\n  \n      // Clean up\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    }\n  };\n  \n  \n\n  const videoConstraints = {\n    width: 390,\n    height: 390,\n    facingMode: \"user\",\n  };\n\n  return (\n    <div className=\"Container\">\n      {img === null ? (\n        <>\n          <Webcam\n            screenshotFormat=\"image/png\"\n            videoConstraints={videoConstraints}\n            audio={false}\n            height={500}\n            width={500}\n            ref={webcamRef}\n            mirrored={true}\n          />\n          <button onClick={capture}>Capture photo</button>\n        </>\n      ) : (\n        <>\n          <img src={img} alt=\"screenshot\" />\n          <button onClick={() => setImg(null)}>Recapture photo</button>\n          <button onClick={downloadImage}>Download</button>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default WebcamImage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}